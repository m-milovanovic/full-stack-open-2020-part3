{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/personsService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Notification","message","variant","className","text","PersonForm","handleSubmit","formData","handleChange","onSubmit","name","number","type","Persons","persons","handleDelete","map","person","i","toLowerCase","includes","key","onClick","baseUrl","axios","get","then","response","data","post","id","newPerson","put","delete","App","useState","setPersons","setMessage","resetMessage","setTimeout","getPersons","personsService","useEffect","setFormData","setFilter","e","target","preventDefault","filtered","length","window","confirm","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.751ecaee.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({filter, handleFilter}) => {\r\n    return (\r\n        <div>filter shown with: <input value={filter} onChange={handleFilter} /></div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        message.variant === 'error' ?\r\n            <div className=\"error\">{message.text}</div>\r\n            :\r\n            <div className=\"success\">{message.text}</div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst PersonForm = ({handleSubmit, formData, handleChange}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>name: <input value={formData.name} onChange={handleChange('name')} /></div>\r\n            <div>number: <input value={formData.number} onChange={handleChange('number')} /></div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Persons = ({ persons, filter, handleDelete }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons.map((person, i) => person.name.toLowerCase().includes(filter.toLowerCase()) &&\r\n                    <div key={i}>{person.name} {person.number}<button onClick={() => handleDelete(person)}>delete</button></div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = (person) => {\r\n    return axios.post(baseUrl, person).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    return axios.put(`${baseUrl}/${id}`, newPerson).then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson\r\n}","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/personsService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [message, setMessage] = useState(null)\n  const resetMessage = () => {\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n  const getPersons = () => {\n    personsService.getAll()\n      .then(data => setPersons(data))\n  }\n\n  useEffect(() => {\n    getPersons()\n  }, [])\n\n  const [formData, setFormData] = useState({\n    name: '',\n    number: ''\n  })\n\n  const [filter, setFilter] = useState('')\n\n  const handleChange = (name) => (e) => {\n    const value = e.target.value\n    setFormData({ ...formData, [name]: value })\n  }\n\n  const handleFilter = (e) => {\n    const value = e.target.value\n    setFilter(value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const newPerson = {\n      name: formData.name,\n      number: formData.number\n    }\n\n    const filtered = persons.filter(person => person.name === formData.name)\n\n    if (filtered.length > 0) {\n      if (window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n        personsService.update(filtered[0].id, newPerson)\n          .then(() => {\n            getPersons()\n            setMessage({\n              text: `${newPerson.name}'s phone number changed`,\n              variant: 'success'\n            })\n            resetMessage()\n          })\n      }\n      return\n    }\n\n    personsService.create(newPerson)\n      .then(() => {\n        getPersons()\n        setMessage({\n          text: `${newPerson.name} added`,\n          variant: 'success'\n        })\n        resetMessage()\n      })\n\n  }\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personsService.deletePerson(person.id)\n        .then(() => {\n          getPersons()\n          setMessage({\n            text: `${person.name} successfully deleted`,\n            variant: 'success'\n          })\n          resetMessage()\n        })\n        .catch(() => {\n          getPersons()\n          setMessage({\n            text: `Information of ${person.name} has already been removed from the server`,\n            variant: 'error'\n          })\n          resetMessage()\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h2>Add new</h2>\n      <PersonForm formData={formData} handleSubmit={handleSubmit} handleChange={handleChange} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}